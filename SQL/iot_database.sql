-- phpMyAdmin SQL Dump
-- version 4.6.5.2
-- https://www.phpmyadmin.net/
--
-- Hostiteľ: 127.0.0.1
-- Čas generovania: Po 01.Máj 2017, 22:48
-- Verzia serveru: 10.1.21-MariaDB
-- Verzia PHP: 7.1.1

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Databáza: `iot_database`
--

-- --------------------------------------------------------

--
-- Štruktúra tabuľky pre tabuľku `dashboard`
--

CREATE TABLE `dashboard` (
  `id` int(11) NOT NULL,
  `user_id` int(11) DEFAULT NULL,
  `device_id` int(11) DEFAULT NULL,
  `type_id` int(11) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `created_at` varchar(255) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Sťahujem dáta pre tabuľku `dashboard`
--

INSERT INTO `dashboard` (`id`, `user_id`, `device_id`, `type_id`, `updated_at`, `created_at`) VALUES
(95, 30, 2, 1, '2017-05-01 22:38:28', '2017-05-01 22:38:28'),
(96, 30, 1, 3, '2017-05-01 22:38:38', '2017-05-01 22:38:38'),
(97, 30, 1, 4, '2017-05-01 22:38:43', '2017-05-01 22:38:43');

-- --------------------------------------------------------

--
-- Štruktúra tabuľky pre tabuľku `dashboard_type`
--

CREATE TABLE `dashboard_type` (
  `id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `style` varchar(255) DEFAULT NULL,
  `icon` varchar(255) DEFAULT NULL,
  `text` varchar(255) DEFAULT NULL,
  `size` double DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Sťahujem dáta pre tabuľku `dashboard_type`
--

INSERT INTO `dashboard_type` (`id`, `name`, `style`, `icon`, `text`, `size`) VALUES
(1, 'Min', 'panel-primary', 'fa-thermometer-half', 'Minimal', 3),
(2, 'Max', 'panel-green', 'fa-thermometer-full', 'Maximal', 3),
(3, 'Last', 'panel-green', 'fa-calendar-plus-o', 'Last value', 6),
(4, 'Graf', 'panel-default', 'fa-thermometer-half', 'Graf', 6);

-- --------------------------------------------------------

--
-- Štruktúra tabuľky pre tabuľku `device`
--

CREATE TABLE `device` (
  `id_device` int(11) NOT NULL,
  `user_id` int(11) NOT NULL,
  `id_type` int(11) NOT NULL,
  `device_name` varchar(32) NOT NULL,
  `updated_at` datetime NOT NULL,
  `created_at` datetime NOT NULL,
  `unit` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;

--
-- Sťahujem dáta pre tabuľku `device`
--

INSERT INTO `device` (`id_device`, `user_id`, `id_type`, `device_name`, `updated_at`, `created_at`, `unit`) VALUES
(1, 30, 2, 'Humidity - kytchen', '2017-04-17 00:00:00', '2017-04-17 00:00:00', '%'),
(2, 30, 5, 'Battery - voltage', '2017-03-15 00:00:00', '2017-03-15 00:23:18', 'V');

-- --------------------------------------------------------

--
-- Štruktúra tabuľky pre tabuľku `device_value`
--

CREATE TABLE `device_value` (
  `id` int(11) NOT NULL,
  `id_device` int(11) NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `device_val` decimal(63,0) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;

--
-- Sťahujem dáta pre tabuľku `device_value`
--

INSERT INTO `device_value` (`id`, `id_device`, `created_at`, `updated_at`, `device_val`) VALUES
(101, 1, '2017-01-10 13:23:13', '2016-05-13 06:00:39', '30'),
(102, 1, '2016-05-06 06:46:01', '2016-09-15 11:23:57', '54'),
(103, 1, '2016-10-09 07:48:07', '2016-11-20 04:17:01', '44'),
(104, 1, '2016-07-17 20:43:48', '2016-10-12 06:22:36', '56'),
(105, 1, '2016-07-15 04:38:47', '2017-01-28 17:31:49', '42'),
(106, 1, '2016-08-23 16:57:10', '2017-01-06 22:04:44', '53'),
(107, 1, '2016-05-29 01:05:28', '2016-10-10 17:05:52', '69'),
(108, 1, '2016-05-22 19:23:16', '2016-12-21 08:34:18', '24'),
(109, 1, '2017-02-05 00:54:52', '2016-06-21 16:55:22', '58'),
(110, 1, '2017-04-23 14:34:35', '2016-12-08 05:04:01', '65'),
(111, 1, '2017-03-17 02:39:40', '2016-09-08 00:27:06', '65'),
(112, 1, '2017-04-03 02:25:17', '2016-10-16 05:45:42', '44'),
(113, 1, '2016-08-19 05:19:13', '2016-05-18 13:04:02', '37'),
(114, 1, '2017-01-27 03:49:55', '2016-08-09 02:11:27', '46'),
(115, 1, '2016-05-03 02:34:46', '2016-12-17 19:29:53', '53'),
(116, 1, '2016-09-30 12:48:34', '2017-02-17 10:51:06', '53'),
(117, 1, '2016-08-29 03:13:11', '2016-07-08 06:47:52', '60'),
(118, 1, '2016-08-15 19:58:08', '2016-05-31 11:35:49', '70'),
(119, 1, '2016-08-15 05:40:16', '2016-07-28 13:08:33', '39'),
(120, 1, '2017-04-01 13:58:01', '2017-01-13 15:52:13', '25'),
(121, 1, '2016-06-30 23:00:16', '2016-06-01 00:38:26', '54'),
(122, 1, '2016-05-24 18:54:47', '2016-11-23 15:15:16', '57'),
(123, 1, '2016-09-08 14:05:59', '2016-08-30 21:57:47', '44'),
(124, 1, '2016-12-22 12:35:32', '2017-02-20 09:57:55', '22'),
(125, 1, '2016-08-26 19:30:41', '2016-06-15 01:12:03', '31'),
(126, 1, '2016-07-16 08:02:01', '2016-09-04 18:34:47', '28'),
(127, 1, '2016-10-26 22:39:04', '2016-06-13 12:44:01', '30'),
(128, 1, '2017-02-23 23:07:01', '2016-09-10 01:28:44', '33'),
(129, 1, '2017-01-05 15:31:26', '2016-10-07 20:58:11', '50'),
(130, 1, '2017-03-21 07:53:17', '2017-01-05 15:06:38', '51'),
(131, 1, '2017-01-16 14:06:25', '2017-02-01 18:23:39', '65'),
(132, 1, '2016-07-18 11:48:03', '2017-02-15 20:33:15', '53'),
(133, 1, '2016-09-10 23:43:00', '2017-03-11 15:33:56', '67'),
(134, 1, '2016-07-15 02:00:57', '2017-02-27 19:12:28', '31'),
(135, 1, '2016-11-01 04:32:24', '2016-10-27 05:28:12', '27'),
(136, 1, '2016-07-23 18:41:26', '2017-04-10 02:54:23', '45'),
(137, 1, '2016-12-20 09:26:32', '2016-11-24 14:50:57', '63'),
(138, 1, '2016-05-28 20:17:05', '2016-08-04 09:20:29', '34'),
(139, 1, '2016-10-31 12:41:58', '2016-06-20 18:37:48', '42'),
(140, 1, '2017-01-24 05:31:46', '2016-10-19 13:30:23', '53'),
(141, 1, '2016-10-08 23:29:49', '2017-02-05 03:55:59', '27'),
(142, 1, '2017-04-27 08:12:59', '2016-09-30 02:06:43', '45'),
(143, 1, '2016-07-01 00:52:29', '2017-01-10 16:13:58', '40'),
(144, 1, '2016-07-08 22:41:48', '2016-11-21 21:54:32', '29'),
(145, 1, '2016-07-28 15:06:38', '2016-08-08 17:03:30', '58'),
(146, 1, '2017-01-21 08:13:44', '2016-11-28 16:03:13', '30'),
(147, 1, '2016-06-01 07:59:43', '2016-08-13 17:26:53', '59'),
(148, 1, '2017-03-02 08:11:50', '2016-09-06 17:11:28', '20'),
(149, 1, '2017-01-20 16:30:08', '2017-04-18 19:13:27', '46'),
(150, 1, '2016-11-06 12:45:21', '2016-08-30 00:55:30', '53'),
(151, 1, '2017-02-12 04:51:40', '2016-10-23 12:52:23', '67'),
(152, 1, '2016-05-11 14:23:37', '2017-04-08 20:54:47', '42'),
(153, 1, '2016-12-16 17:15:32', '2017-04-19 04:10:23', '48'),
(154, 1, '2016-07-11 05:18:04', '2016-08-17 17:29:27', '42'),
(155, 1, '2016-05-30 07:33:18', '2016-09-07 01:22:12', '44'),
(156, 1, '2016-08-18 18:45:19', '2016-08-18 13:49:03', '32'),
(157, 1, '2016-06-19 14:50:00', '2016-10-08 19:06:29', '29'),
(158, 1, '2016-08-11 00:41:18', '2017-01-02 14:17:42', '49'),
(159, 1, '2016-08-21 01:50:00', '2016-06-21 03:39:06', '58'),
(160, 1, '2017-01-18 07:04:04', '2016-05-22 03:08:46', '57'),
(161, 1, '2016-09-24 06:11:44', '2016-07-22 07:36:52', '55'),
(162, 1, '2016-09-13 10:29:41', '2016-08-27 18:49:09', '63'),
(163, 1, '2017-02-11 18:37:35', '2016-07-03 17:12:49', '35'),
(164, 1, '2017-03-25 19:04:43', '2016-12-13 12:32:55', '50'),
(165, 1, '2016-09-17 21:50:56', '2016-08-03 01:45:49', '27'),
(166, 1, '2017-03-19 16:02:12', '2016-05-26 15:41:41', '38'),
(167, 1, '2017-01-02 12:38:44', '2017-04-08 01:11:36', '52'),
(168, 1, '2016-09-01 12:52:03', '2016-11-05 06:39:51', '27'),
(169, 1, '2016-10-01 00:01:14', '2016-07-20 15:08:28', '57'),
(170, 1, '2016-12-22 15:39:48', '2016-05-07 08:43:26', '46'),
(171, 1, '2016-06-07 00:08:05', '2016-12-10 00:57:00', '33'),
(172, 1, '2016-06-07 13:08:05', '2016-11-23 11:50:32', '39'),
(173, 1, '2017-02-25 19:24:53', '2016-08-05 07:08:13', '37'),
(174, 1, '2016-06-24 11:49:56', '2017-02-05 18:52:54', '57'),
(175, 1, '2016-10-03 01:39:55', '2017-03-12 20:57:19', '50'),
(176, 1, '2016-07-14 06:19:50', '2016-10-31 12:25:43', '51'),
(177, 1, '2017-03-20 22:39:05', '2016-11-12 13:27:14', '38'),
(178, 1, '2016-07-09 01:31:44', '2016-09-29 02:54:33', '55'),
(179, 1, '2016-10-20 12:15:40', '2017-01-24 21:39:31', '30'),
(180, 1, '2016-09-24 17:56:15', '2016-11-19 19:57:49', '21'),
(181, 1, '2017-04-25 18:55:22', '2017-01-29 11:00:36', '41'),
(182, 1, '2016-12-24 17:52:01', '2017-01-17 08:28:26', '39'),
(183, 1, '2016-12-25 07:36:49', '2017-04-08 14:13:01', '56'),
(184, 1, '2016-05-05 08:09:53', '2017-04-27 00:36:05', '45'),
(185, 1, '2016-05-27 05:08:58', '2016-10-10 04:07:15', '35'),
(186, 1, '2016-11-14 09:46:23', '2016-05-26 15:34:44', '31'),
(187, 1, '2016-08-05 17:32:24', '2016-11-27 00:26:45', '26'),
(188, 1, '2016-09-06 14:58:37', '2016-08-18 23:44:12', '49'),
(189, 1, '2017-03-29 19:43:00', '2016-06-29 05:36:44', '46'),
(190, 1, '2016-08-04 14:08:51', '2017-04-19 11:13:28', '51'),
(191, 1, '2016-11-20 08:48:41', '2017-01-13 15:30:58', '28'),
(192, 1, '2017-01-02 17:41:04', '2016-10-16 09:21:42', '31'),
(193, 1, '2017-01-04 20:04:55', '2016-09-28 05:36:25', '59'),
(194, 1, '2016-11-03 02:06:48', '2016-10-23 02:11:05', '41'),
(195, 1, '2016-12-09 22:50:31', '2016-10-16 00:54:54', '39'),
(196, 1, '2016-05-18 09:33:41', '2016-09-23 06:27:49', '26'),
(197, 1, '2016-06-23 12:38:39', '2017-04-29 16:55:05', '66'),
(198, 1, '2017-01-15 19:55:14', '2016-10-04 14:26:08', '53'),
(199, 1, '2017-01-26 20:38:01', '2016-11-13 00:25:40', '24'),
(200, 1, '2017-02-07 03:46:11', '2016-05-22 04:35:38', '37'),
(201, 2, '2016-08-30 23:56:44', '2016-06-01 23:54:31', '3'),
(202, 2, '2017-02-03 19:55:27', '2016-06-04 09:19:19', '3'),
(203, 2, '2016-09-15 23:52:35', '2017-01-10 00:24:19', '2'),
(204, 2, '2016-09-02 15:30:02', '2017-04-20 19:06:54', '2'),
(205, 2, '2016-10-14 08:23:29', '2016-07-26 02:02:56', '4'),
(206, 2, '2017-03-29 20:52:44', '2016-09-04 13:44:42', '3'),
(207, 2, '2017-04-20 08:03:28', '2016-08-21 18:07:36', '3'),
(208, 2, '2016-05-27 01:43:46', '2016-08-30 10:34:57', '4'),
(209, 2, '2016-10-12 10:14:42', '2017-01-29 16:02:10', '3'),
(210, 2, '2016-12-18 07:42:57', '2016-09-11 22:10:56', '3'),
(211, 2, '2017-01-25 16:35:50', '2016-05-21 04:34:07', '2'),
(212, 2, '2017-04-21 12:15:16', '2017-03-25 06:40:26', '3'),
(213, 2, '2017-01-27 01:49:02', '2016-09-30 13:01:00', '3'),
(214, 2, '2016-12-25 20:51:33', '2016-05-30 06:30:07', '2'),
(215, 2, '2016-07-13 08:06:53', '2016-06-27 16:36:21', '4'),
(216, 2, '2016-06-05 04:12:31', '2016-08-21 07:13:57', '4'),
(217, 2, '2016-06-06 10:22:05', '2016-06-02 08:18:53', '3'),
(218, 2, '2016-10-05 23:08:55', '2016-07-14 12:45:40', '3'),
(219, 2, '2016-08-14 17:17:09', '2017-04-14 04:43:58', '4'),
(220, 2, '2016-08-10 12:53:28', '2016-11-13 08:11:05', '4'),
(221, 2, '2016-06-09 16:32:39', '2016-11-14 01:27:34', '2'),
(222, 2, '2017-01-03 06:32:39', '2016-08-25 06:56:26', '2'),
(223, 2, '2017-03-10 11:41:27', '2016-10-18 12:58:37', '3'),
(224, 2, '2016-12-01 08:46:01', '2016-06-19 12:22:21', '4'),
(225, 2, '2016-08-13 14:37:17', '2016-09-18 02:03:11', '4'),
(226, 2, '2016-12-16 13:42:14', '2016-11-04 06:50:18', '3'),
(227, 2, '2016-11-30 14:22:40', '2016-08-18 13:42:57', '4'),
(228, 2, '2016-07-21 09:40:31', '2017-04-21 13:49:58', '2'),
(229, 2, '2016-05-27 21:37:01', '2016-09-30 10:40:29', '3'),
(230, 2, '2016-09-19 19:02:20', '2017-04-22 11:26:27', '3'),
(231, 2, '2016-06-01 03:48:39', '2016-12-08 22:10:08', '2'),
(232, 2, '2016-08-15 13:22:18', '2016-12-25 10:36:47', '4'),
(233, 2, '2016-06-08 09:40:54', '2016-06-20 20:37:46', '3'),
(234, 2, '2016-06-08 15:47:26', '2016-12-05 15:12:26', '3'),
(235, 2, '2016-07-05 02:54:41', '2017-04-25 14:11:45', '4'),
(236, 2, '2016-12-30 06:00:08', '2016-12-08 22:22:29', '3'),
(237, 2, '2016-07-31 05:31:32', '2016-10-31 18:09:15', '4'),
(238, 2, '2017-03-22 09:21:03', '2016-07-07 07:04:25', '4'),
(239, 2, '2017-04-13 15:35:42', '2016-07-12 11:19:54', '3'),
(240, 2, '2016-10-29 12:06:12', '2017-01-22 19:36:06', '3'),
(241, 2, '2016-05-13 19:00:33', '2016-12-06 03:41:05', '3'),
(242, 2, '2016-07-31 16:48:48', '2017-02-06 12:53:05', '4'),
(243, 2, '2016-09-08 09:03:53', '2016-10-26 22:37:44', '3'),
(244, 2, '2017-03-14 05:24:04', '2016-06-08 07:00:07', '2'),
(245, 2, '2016-08-31 22:15:40', '2016-06-19 09:10:10', '4'),
(246, 2, '2016-07-06 09:41:39', '2016-09-15 12:47:37', '2'),
(247, 2, '2016-09-23 16:22:25', '2017-04-07 23:51:09', '4'),
(248, 2, '2016-12-27 07:43:25', '2017-03-11 10:17:42', '2'),
(249, 2, '2016-06-09 16:16:05', '2016-10-15 15:14:46', '4'),
(250, 2, '2016-06-07 05:08:53', '2017-03-25 02:44:53', '4'),
(251, 2, '2016-07-12 08:59:10', '2017-02-12 15:57:14', '4'),
(252, 2, '2016-06-09 23:09:20', '2017-03-06 10:41:40', '4'),
(253, 2, '2016-12-22 13:24:35', '2016-06-21 07:09:39', '3'),
(254, 2, '2016-08-02 19:34:53', '2016-08-23 15:20:31', '2'),
(255, 2, '2016-12-18 15:40:29', '2017-02-18 09:53:04', '2'),
(256, 2, '2016-11-03 13:02:52', '2017-04-29 08:51:09', '2'),
(257, 2, '2017-04-15 08:05:06', '2016-11-28 05:22:03', '3'),
(258, 2, '2017-03-29 12:43:35', '2016-12-05 00:53:25', '3'),
(259, 2, '2017-01-17 03:42:06', '2017-01-15 16:10:44', '3'),
(260, 2, '2017-04-15 10:10:05', '2016-05-08 05:04:39', '4'),
(261, 2, '2017-01-16 20:34:45', '2016-12-20 17:57:00', '3'),
(262, 2, '2016-09-05 05:25:18', '2016-11-29 17:18:46', '2'),
(263, 2, '2016-10-19 11:07:26', '2016-09-17 19:59:41', '4'),
(264, 2, '2016-12-27 01:36:02', '2016-09-15 12:14:08', '3'),
(265, 2, '2016-12-06 01:19:19', '2016-06-21 08:42:40', '3'),
(266, 2, '2017-03-06 10:11:19', '2016-10-30 17:07:38', '2'),
(267, 2, '2017-03-15 20:25:00', '2016-12-21 09:04:19', '2'),
(268, 2, '2016-10-07 22:19:15', '2016-06-24 04:55:09', '3'),
(269, 2, '2017-02-24 15:05:20', '2017-01-17 06:41:11', '4'),
(270, 2, '2016-08-19 12:11:12', '2016-09-22 01:19:04', '3'),
(271, 2, '2017-04-28 22:56:28', '2016-07-05 20:01:33', '4'),
(272, 2, '2017-04-22 02:19:10', '2016-08-13 01:04:35', '4'),
(273, 2, '2016-11-04 15:40:14', '2017-02-21 09:33:24', '3'),
(274, 2, '2016-09-27 05:25:03', '2016-11-03 07:46:56', '4'),
(275, 2, '2016-07-27 23:41:02', '2017-04-11 22:02:30', '4'),
(276, 2, '2016-12-24 10:01:50', '2017-04-15 06:56:19', '3'),
(277, 2, '2017-03-12 10:43:25', '2016-07-21 05:24:10', '4'),
(278, 2, '2017-01-25 01:51:52', '2017-02-12 22:09:04', '2'),
(279, 2, '2017-04-02 01:33:28', '2016-11-17 07:14:21', '2'),
(280, 2, '2016-07-14 20:48:31', '2017-02-10 23:46:36', '3'),
(281, 2, '2016-12-05 10:14:26', '2016-11-21 03:14:15', '4'),
(282, 2, '2017-02-06 16:10:28', '2017-01-29 00:24:39', '3'),
(283, 2, '2016-09-24 14:28:03', '2016-12-13 21:17:19', '2'),
(284, 2, '2017-03-23 22:12:36', '2016-08-27 08:00:21', '3'),
(285, 2, '2017-01-28 06:01:29', '2017-02-22 17:33:57', '3'),
(286, 2, '2016-11-05 11:51:33', '2016-10-20 05:53:17', '4'),
(287, 2, '2016-09-23 18:44:30', '2016-09-27 11:14:48', '3'),
(288, 2, '2016-09-02 16:05:05', '2016-11-11 16:44:35', '2'),
(289, 2, '2016-12-30 12:08:31', '2016-10-01 08:30:59', '3'),
(290, 2, '2017-04-03 20:14:55', '2016-07-21 08:59:14', '3'),
(291, 2, '2016-05-06 21:33:27', '2017-01-09 03:53:05', '3'),
(292, 2, '2016-11-19 09:39:51', '2016-07-24 09:16:05', '3'),
(293, 2, '2016-09-13 23:09:06', '2017-04-05 15:09:37', '3'),
(294, 2, '2017-04-04 05:39:05', '2016-05-25 23:54:59', '2'),
(295, 2, '2017-03-14 19:37:13', '2016-07-10 02:29:23', '3'),
(296, 2, '2016-11-17 05:59:12', '2016-12-13 21:28:11', '4'),
(297, 2, '2017-01-11 05:05:19', '2016-07-03 21:33:22', '3'),
(298, 2, '2016-08-08 18:14:20', '2016-12-18 00:33:24', '3'),
(299, 2, '2016-07-10 13:24:01', '2016-12-10 01:49:23', '3'),
(300, 2, '2017-01-19 00:56:43', '2016-09-28 14:01:04', '4');

-- --------------------------------------------------------

--
-- Štruktúra tabuľky pre tabuľku `type`
--

CREATE TABLE `type` (
  `id_type` int(11) NOT NULL,
  `device_name` varchar(32) NOT NULL,
  `unit` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 ROW_FORMAT=COMPACT;

--
-- Sťahujem dáta pre tabuľku `type`
--

INSERT INTO `type` (`id_type`, `device_name`, `unit`) VALUES
(1, 'temperature', '°C'),
(2, 'humidity', '%'),
(3, 'pressure', 'bar'),
(4, 'frequency', 'Hz'),
(5, 'voltage', 'V'),
(6, 'luminous', 'cd'),
(7, 'current', 'A'),
(8, 'data', 'kB');

-- --------------------------------------------------------

--
-- Štruktúra tabuľky pre tabuľku `user`
--

CREATE TABLE `user` (
  `id` int(11) NOT NULL,
  `name` varchar(255) CHARACTER SET latin1 NOT NULL,
  `email` varchar(255) CHARACTER SET latin1 NOT NULL,
  `password` varchar(255) CHARACTER SET latin1 NOT NULL,
  `created_at` datetime NOT NULL,
  `updated_at` datetime NOT NULL,
  `api_key` varchar(32) CHARACTER SET latin1 NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci ROW_FORMAT=COMPACT;

--
-- Sťahujem dáta pre tabuľku `user`
--

INSERT INTO `user` (`id`, `name`, `email`, `password`, `created_at`, `updated_at`, `api_key`) VALUES
(30, 'tester', 'testovaci@gmail.com', '$2y$10$BLgyMEiPxKAh6l9Rh1pe6e4vl9XwaQ0DMg0QdjUVqfMUpGPXNCmJW', '2017-05-01 22:13:23', '2017-05-01 22:13:23', '1d58beb241fce87628311715ac890ee0');

-- --------------------------------------------------------

--
-- Stand-in structure for view `w_dashboard`
-- (See below for the actual view)
--
CREATE TABLE `w_dashboard` (
`id` int(11)
,`user_id` int(11)
,`device_id` int(11)
,`type_id` int(11)
,`updated_at` datetime
,`created_at` varchar(255)
,`name` varchar(255)
,`style` varchar(255)
,`icon` varchar(255)
,`text` varchar(255)
,`size` double
,`device_name` varchar(32)
,`unit` varchar(10)
);

-- --------------------------------------------------------

--
-- Štruktúra pre zobrazenie `w_dashboard`
--
DROP TABLE IF EXISTS `w_dashboard`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `w_dashboard`  AS  select `dashboard`.`id` AS `id`,`dashboard`.`user_id` AS `user_id`,`dashboard`.`device_id` AS `device_id`,`dashboard`.`type_id` AS `type_id`,`dashboard`.`updated_at` AS `updated_at`,`dashboard`.`created_at` AS `created_at`,`dashboard_type`.`name` AS `name`,`dashboard_type`.`style` AS `style`,`dashboard_type`.`icon` AS `icon`,`dashboard_type`.`text` AS `text`,`dashboard_type`.`size` AS `size`,`device`.`device_name` AS `device_name`,`type`.`unit` AS `unit` from (((`dashboard` join `dashboard_type` on((`dashboard`.`type_id` = `dashboard_type`.`id`))) join `device` on((`dashboard`.`device_id` = `device`.`id_device`))) join `type` on((`device`.`id_type` = `type`.`id_type`))) ;

--
-- Kľúče pre exportované tabuľky
--

--
-- Indexy pre tabuľku `dashboard`
--
ALTER TABLE `dashboard`
  ADD PRIMARY KEY (`id`);

--
-- Indexy pre tabuľku `dashboard_type`
--
ALTER TABLE `dashboard_type`
  ADD PRIMARY KEY (`id`);

--
-- Indexy pre tabuľku `device`
--
ALTER TABLE `device`
  ADD PRIMARY KEY (`id_device`),
  ADD KEY `id_user` (`user_id`),
  ADD KEY `id_type` (`id_type`);

--
-- Indexy pre tabuľku `device_value`
--
ALTER TABLE `device_value`
  ADD PRIMARY KEY (`id`),
  ADD KEY `id_device` (`id_device`);

--
-- Indexy pre tabuľku `type`
--
ALTER TABLE `type`
  ADD PRIMARY KEY (`id_type`);

--
-- Indexy pre tabuľku `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT pre exportované tabuľky
--

--
-- AUTO_INCREMENT pre tabuľku `dashboard`
--
ALTER TABLE `dashboard`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=98;
--
-- AUTO_INCREMENT pre tabuľku `dashboard_type`
--
ALTER TABLE `dashboard_type`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;
--
-- AUTO_INCREMENT pre tabuľku `device`
--
ALTER TABLE `device`
  MODIFY `id_device` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=65;
--
-- AUTO_INCREMENT pre tabuľku `device_value`
--
ALTER TABLE `device_value`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=301;
--
-- AUTO_INCREMENT pre tabuľku `type`
--
ALTER TABLE `type`
  MODIFY `id_type` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=18;
--
-- AUTO_INCREMENT pre tabuľku `user`
--
ALTER TABLE `user`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=31;
--
-- Obmedzenie pre exportované tabuľky
--

--
-- Obmedzenie pre tabuľku `device`
--
ALTER TABLE `device`
  ADD CONSTRAINT `id_type` FOREIGN KEY (`id_type`) REFERENCES `type` (`id_type`),
  ADD CONSTRAINT `id_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
